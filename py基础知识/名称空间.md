# 名称空间
在Python中，名称空间（Namespace）是一个字典，它用于存储变量名到对象的映射。当你定义一个变量、函数或者类时，Python会将其存储在当前的名称空间中。名称空间有助于避免命名冲突，并使得程序中的标识符（如变量名、函数名等）有了明确的作用域。

Python中主要有三种类型的名称空间：

**局部名称空间（Local Namespace）**：局部名称空间是当前函数或方法的名称空间。当一个函数或方法被调用时，它会创建自己的局部名称空间，用来存储在该函数或方法中定义的变量和临时数据。局部名称空间在函数执行完毕后会被销毁。

**全局名称空间（Global Namespace）**：全局名称空间是模块级别的名称空间。它包含了在模块中定义的变量、函数、类等。当Python解释器加载一个模块时，它会创建一个全局名称空间来存储该模块中的定义。

**内置名称空间（Built-in Namespace）**：内置名称空间包含了Python解释器预定义的函数和异常，如print(), len(), TypeError等。这些名称在Python解释器启动时就已经存在，并且可以在任何模块中访问。
Python在查找一个标识符时，会按照以下顺序搜索名称空间：

局部名称空间**L**
全局名称空间**G**
内置名称空间**B**


这个顺序也被称为名称空间的解析顺序（LEGB原则，其中L代表Local，E代表Enclosing function locals，G代表Global，B代表Built-in）。


# 作用域规则

**global语句**

在函数内部修改全局变量，不提倡使用，容易出现bug
```python
x = 1

def myfunc():
  global x
  x = 520

```

**nonlocal语句**

内部函数可访问到外部函数的变量但无法改变，nonlocal可以解决这个问题。

**LEGB规则**

L>E>G>B

L:local局部作用域

E：enclosed外层函数作用域(变量会通过某种方式保存 )

G：global全局作用域

B：build-in内置作用域(str int等)


